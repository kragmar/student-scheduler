<h2 mat-dialog-title>Új óra</h2>
<mat-dialog-content class="new-lesson-dialog">
  <form
    class="new-lesson-form"
    (ngSubmit)="onSubmit()"
    [formGroup]="newLessonForm"
  >
    <mat-slide-toggle class="slide-toggle" formControlName="recurring"
      >Fix időpont:
      {{ getValue("recurring") ? "Igen" : "Nem" }}</mat-slide-toggle
    >
    <ng-container *ngIf="getValue('recurring') === true; else notRecurring">
      <mat-form-field appearance="outline">
        <mat-label>Óra napja</mat-label>
        <mat-select placeholder="Óra napja" name="day">
          <mat-option *ngFor="let day of days" [value]="day">
            {{ day }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </ng-container>

    <!-- If it's not recurring then render the template below -->
    <ng-template #notRecurring>
      <mat-form-field appearance="outline">
        <mat-label>Óra dátuma</mat-label>
        <input
          matInput
          [matDatepicker]="datepicker"
          [matDatepickerFilter]="dateFilter"
          placeholder="1970. 01. 01."
          formControlName="date"
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="datepicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #datepicker></mat-datepicker>
      </mat-form-field>
    </ng-template>

    <!-- Rest of the form -->
    <mat-form-field appearance="outline">
      <mat-label>Óra időpontja</mat-label>
      <mat-select placeholder="Óra időpontja" name="time">
        <mat-option *ngFor="let time of times" [value]="time">
          {{ time }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Óra típusa</mat-label>
      <mat-select placeholder="Óra típusa" name="type" formControlName="type">
        <mat-option *ngFor="let type of types" [value]="type">
          {{ type }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <button mat-raised-button type="submit" [disabled]="newLessonForm.invalid">
      Hozzáadás
    </button>
  </form>
</mat-dialog-content>
